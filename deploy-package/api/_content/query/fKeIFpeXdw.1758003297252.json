{"_path":"/articles/frontend-system-design-2-4","_dir":"articles","_draft":false,"_partial":false,"_locale":"","title":"Server Sent Events - A Real time communication","description":"Delve into Server-Sent Events. Understand how servers push data to clients, enabling continuous updates in frontend applications without the need for repeated requests, optimizing data streaming.","slidesUrl":"https://github.com/AherRahul/portfolio-v1/blob/main/content/articles","dateModified":"2025-03-09","datePublished":"2025-03-09","showOnArticles":false,"courseName":"02-frontend-system-design","topics":["nodejs","javascript"],"readingTime":{"text":"4 min read","minutes":3.645,"time":218700,"words":729},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"image.png","src":"https://res.cloudinary.com/duojkrgue/image/upload/v1744108696/Portfolio/FrontendSystemDesignCourse/9_fvmoja.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let’s talk about a modern way of real-time communication on the web: "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Server-Sent Events (SSE)"}]},{"type":"text","value":". It’s supported by most modern browsers. So, let’s understand what this is."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"First, a connection is made from the client, which is basically an HTTP connection. This connection is long-lived. Whenever new data is available on the server, it is sent to the client at regular intervals."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"image.png","src":"https://heyashu.in/images/blogs/sse_2.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"But there are a few key terms we need to understand:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Long-lived connection"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Unidirectional connection"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Single HTTP connection"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For example, on platforms like "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"LinkedIn"}]},{"type":"text","value":" or "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Twitter (X)"}]},{"type":"text","value":", you see notifications like "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"\"New post available\""}]},{"type":"text","value":" without refreshing the page. Similarly, in monitoring dashboards or notification systems, the client doesn’t have to do anything—the server pushes the updates automatically."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"image.png","src":"https://heyashu.in/images/blogs/sse_3.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"So now you might be thinking, "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"how does this work?"}]},{"type":"text","value":" How does the data come through, and do we need any third-party libraries? 🤔"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let’s discuss these things. We receive data in the form of "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"event streams"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"how-to-achieve-this"},"children":[{"type":"text","value":"🚀 How to Achieve This?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Generally, on the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"server side"}]},{"type":"text","value":", we expose an "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"endpoint"}]},{"type":"text","value":" where we send data as a stream with the content type "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"text/event-stream"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"On the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"frontend"}]},{"type":"text","value":", we make an HTTP API call and use the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"EventSource"}]}]},{"type":"text","value":" API, which is natively supported by modern browsers. This allows us to listen for events sent by the server."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For now, on the server, we’ve mimicked the process by sending data as an event stream every 5 seconds."}]},{"type":"element","tag":"h3","props":{"id":"github-repository"},"children":[{"type":"text","value":"📂 GitHub Repository"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"I’ve added a GitHub repo where you can clone the project, follow the commands, and see it in your browser. But if you really want to understand how it works—whether you run the code or not—I’ve provided the core code below."}]},{"type":"element","tag":"pre","props":{"className":"language-jsx shiki shiki-themes vitesse-dark","code":"git clone https://github.com/ashumsd7/web-communication-techniques.git\ncd web-communication-techniques\nnpm i\nnpm run server-side-events\n-------------------\nOpen browser and type\nhttp://localhost:3000/ // Observe network tab\n","language":"jsx","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"git"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" clone"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":" https"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#758575DD"},"children":[{"type":"text","value":"//github.com/ashumsd7/web-communication-techniques.git\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"cd"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" web"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CB7676"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"communication"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CB7676"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"techniques\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" i\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" run"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" server"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CB7676"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"side"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CB7676"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"events\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#CB7676"},"children":[{"type":"text","value":"-------------------\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"Open"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" browser"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" and"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" type\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"http"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#758575DD"},"children":[{"type":"text","value":"//localhost:3000/ // Observe network tab\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"server-code"},"children":[{"type":"text","value":"💻 Server Code"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here’s the server’s core logic:"}]},{"type":"element","tag":"pre","props":{"className":"language-jsx shiki shiki-themes vitesse-dark","code":"app.get('/sse', (req, res) => {\n // data is going  to be long live \n  // data is going to be as event stream and no cache \n res.setHeader('Content-Type','text/event-stream')\n res.setHeader('Connection', 'keep-alive')\n res.setHeader('Cache-Control', 'no-cache')\n // logic of data is going to be here : Database call \n res.write('data: Hello, client! This is a test message.\\n\\n');\n\n// after 5 seconds it will send random number \nconst intervalId = setInterval(() => {\n  res.write(`data: Random number: ${Math.floor(Math.random() * 100)}\\n\\n`);\n }, 5000);\n\n req.on('close', () => {\n  console.log('Client disconnected');\n  clearInterval(intervalId);\n  res.end();\n });\n\n});\n","language":"jsx","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"app"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D"},"children":[{"type":"text","value":"/sse"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"req"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" res"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" =>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#758575DD"},"children":[{"type":"text","value":" // data is going  to be long live \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#758575DD"},"children":[{"type":"text","value":"  // data is going to be as event stream and no cache \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" res"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"setHeader"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D"},"children":[{"type":"text","value":"Content-Type"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D"},"children":[{"type":"text","value":"text/event-stream"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" res"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"setHeader"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D"},"children":[{"type":"text","value":"Connection"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":" '"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D"},"children":[{"type":"text","value":"keep-alive"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" res"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"setHeader"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D"},"children":[{"type":"text","value":"Cache-Control"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":" '"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D"},"children":[{"type":"text","value":"no-cache"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#758575DD"},"children":[{"type":"text","value":" // logic of data is going to be here : Database call \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" res"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"write"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D"},"children":[{"type":"text","value":"data: Hello, client! This is a test message."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C99076"},"children":[{"type":"text","value":"\\n\\n"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#758575DD"},"children":[{"type":"text","value":"// after 5 seconds it will send random number \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#CB7676"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" intervalId"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":" setInterval"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"(()"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" =>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"  res"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"write"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"`"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D"},"children":[{"type":"text","value":"data: Random number: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4D9375"},"children":[{"type":"text","value":"${"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D"},"children":[{"type":"text","value":"Math"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"floor"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D"},"children":[{"type":"text","value":"Math"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"random"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"()"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CB7676"},"children":[{"type":"text","value":" *"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C9A91"},"children":[{"type":"text","value":" 100"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4D9375"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C99076"},"children":[{"type":"text","value":"\\n\\n"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"`"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" },"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C9A91"},"children":[{"type":"text","value":" 5000"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" req"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"on"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D"},"children":[{"type":"text","value":"close"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" ()"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" =>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"  console"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D"},"children":[{"type":"text","value":"Client disconnected"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"  clearInterval"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"intervalId"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"  res"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"end"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" });\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"});\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"So if you see above, we have an "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"endpoint"}]},{"type":"text","value":" that will be called by the client. We are setting headers to:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Keep the connection alive"}]},{"type":"text","value":" for a long-lived connection."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Set the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Content-Type"}]},{"type":"text","value":" as "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"text/event-stream"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Disable caching with "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"no-cache"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Then, we are "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"writing the stream"}]},{"type":"text","value":", and after 5 seconds, we write again. So, any client that is "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"listening"}]},{"type":"text","value":" to this will receive the data."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In between, you can add database logic or any other operations. This is just "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"mimicking the functionality"}]},{"type":"text","value":" of Server-Sent Events (SSE)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now, let’s look at the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"frontend code"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"frontend-code"},"children":[{"type":"text","value":"💻 Frontend Code"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here’s a snapshot of the frontend code where we use "},{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"EventSource"}]}]},{"type":"text","value":" and wait for the data."}]},{"type":"element","tag":"pre","props":{"className":"language-jsx shiki shiki-themes vitesse-dark","code":" const eventSource = new EventSource('/sse');\n\n    // Listen for messages\n    eventSource.onmessage = function(event) {\n      console.log('Event received:', event.data);\n     \n      \n    };\n","language":"jsx","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#CB7676"},"children":[{"type":"text","value":" const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" eventSource"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CB7676"},"children":[{"type":"text","value":" new"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":" EventSource"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D"},"children":[{"type":"text","value":"/sse"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#758575DD"},"children":[{"type":"text","value":"    // Listen for messages\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"    eventSource"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"onmessage"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CB7676"},"children":[{"type":"text","value":" function"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"event"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"      console"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D"},"children":[{"type":"text","value":"Event received:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" event"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":"     \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":"      \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"    };\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"So, it’s "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"super easy"}]},{"type":"text","value":"! We are just "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"listening"}]},{"type":"text","value":" to the event and logging it to the console."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now, you can also "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"display it on the DOM"}]},{"type":"text","value":" of your web page."}]},{"type":"element","tag":"h3","props":{"id":"lets-inspect-it"},"children":[{"type":"text","value":"🔍 Let's Inspect It"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"After running the server, open "},{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"a","props":{"href":"http://localhost:3000/"},"children":[{"type":"text","value":"localhost:3000"}]}]},{"type":"text","value":" in your web browser."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You will see the incoming data in the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"console"}]},{"type":"text","value":" and, if implemented, on the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"webpage"}]},{"type":"text","value":" as well."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"image.png","src":"https://heyashu.in/images/blogs/sse_4.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"long-lived"}]},{"type":"text","value":" and "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"no-cache"}]},{"type":"text","value":" request is being made. Right after that, you can see a tab labeled "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"\"Event Stream\""}]},{"type":"text","value":", just like we had the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"\"Messages\""}]},{"type":"text","value":" tab in WebSocket."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you want to explore more about WebSocket, check out this blog:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"👉 "},{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://heyashu.in/blog/web-socket-lets-chat"},"children":[{"type":"text","value":"Learn WebSocket"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here’s a "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"screenshot"}]},{"type":"text","value":" showing what it looks like when we switch to the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Event Stream"}]},{"type":"text","value":" tab:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"image.png","src":"https://heyashu.in/images/blogs/sse_5.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now, if you look at the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"UI"}]},{"type":"text","value":", you’ll see that the data is getting "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"populated in real-time"}]},{"type":"text","value":"! 🚀"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This happens seamlessly as the server pushes new events to the client without any need for manual refreshes. Pretty cool, right?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"image.png","src":"https://heyashu.in/images/blogs/sse_6.png"},"children":[]}]},{"type":"element","tag":"h3","props":{"id":"challenges"},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Challenges"}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Browser compatibility"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Number of connections (6-8 per domain)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Reconnection logic"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Background tab behavior"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Resource utilization"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Sticky connections"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Proxies and firewalls"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Testing and load balancing"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Efficient broadcasting"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"So, that’s all for this one! More topics will be discussed in upcoming blogs, including "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Webhooks"}]},{"type":"text","value":". Stay tuned!"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"So that's all for this article. Let's meet in the next one.  Take care, bye-bye!"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Thank you so much for reading. If you found it valuable, consider subscribing for more such content every week. If you have any questions or suggestions, please email me your comments or feel free to improve it."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"I am waiting for your feedback, See you in next episode,"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Thanks 👋🏻"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"how-to-achieve-this","depth":3,"text":"🚀 How to Achieve This?"},{"id":"github-repository","depth":3,"text":"📂 GitHub Repository"},{"id":"server-code","depth":3,"text":"💻 Server Code"},{"id":"frontend-code","depth":3,"text":"💻 Frontend Code"},{"id":"lets-inspect-it","depth":3,"text":"🔍 Let's Inspect It"},{"id":"challenges","depth":3,"text":"Challenges"}]}},"_type":"markdown","_id":"content:articles:frontend-system-design-2-4.md","_source":"content","_file":"articles/frontend-system-design-2-4.md","_stem":"articles/frontend-system-design-2-4","_extension":"md","sitemap":{"loc":"/articles/frontend-system-design-2-4"}}