{"_path":"/articles/frontend-system-design-2-2","_dir":"articles","_draft":false,"_partial":false,"_locale":"","title":"How the Web Works","description":"Network is a core part of software, as the frontend needs data and the backend sends it. All of this happens through the network. How is data transferred over the internet? How does it reach the client, and what protocols are required? These are essential concepts for software development. We need to understand what happens when we type 'google.com,'' what DNS is, and its role in the process.","slidesUrl":"https://github.com/AherRahul/portfolio-v1/blob/main/content/articles","dateModified":"2025-03-01","datePublished":"2025-03-01","showOnArticles":false,"courseName":"02-frontend-system-design","topics":["nodejs","javascript"],"readingTime":{"text":"4 min read","minutes":3.885,"time":233100,"words":777},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"image.png","src":"https://res.cloudinary.com/duojkrgue/image/upload/v1744108670/Portfolio/FrontendSystemDesignCourse/7_y3axa8.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As the name suggests, "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Long Polling"}]},{"type":"text","value":" means something is long, delayed, or not happening instantly."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"First, if you haven't checked what "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Short Polling"}]},{"type":"text","value":" is, read this blog—it will take just 2 minutes to learn: "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"["},{"type":"element","tag":"a","props":{"href":"https://rahulaher.netlify.app/articles/frontend-system-design-2-1/"},"children":[{"type":"text","value":"Read Here"}]},{"type":"text","value":"]"}]}]},{"type":"element","tag":"h3","props":{"id":"quick-recap-of-short-polling"},"children":[{"type":"text","value":"Quick Recap of Short Polling"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"short polling"}]},{"type":"text","value":", the system checks for data at regular intervals, useful for chat notifications or small applications where data is light, and backend or database operations are minimal."}]},{"type":"element","tag":"h3","props":{"id":"whats-different-in-long-polling"},"children":[{"type":"text","value":"What’s Different in Long Polling?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Everything is the same, except for one key difference—you don’t get a response immediately after one request. Instead, the server "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"waits"}]},{"type":"text","value":" until the requested data "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"changes"}]},{"type":"text","value":" before responding."}]},{"type":"element","tag":"h3","props":{"id":"what-if-the-data-never-changes"},"children":[{"type":"text","value":"What if the data never changes?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Good question! If no change happens within a set "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"timeout"}]},{"type":"text","value":", the server responds with whatever data is available, even if unchanged."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"So, in "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"long polling"}]},{"type":"text","value":", the connection stays open until new data arrives or the timeout occurs. 🚀"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"4o"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"image.png","src":"https://heyashu.in/images/blogs/lp_2.png"},"children":[]}]},{"type":"element","tag":"h3","props":{"id":"characteristics-of-long-polling"},"children":[{"type":"text","value":"Characteristics of Long Polling"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Single long-lived connection"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Connection stays open until new data arrives or a timeout occurs"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Reduces the number of API calls, lowering latency"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Puts load on the server due to persistent connections, leading to scaling issues"}]}]},{"type":"element","tag":"h3","props":{"id":"use-cases"},"children":[{"type":"text","value":"Use Cases"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Real-time collaboration"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"When data updates every few minutes or hours, not in seconds"}]}]},{"type":"element","tag":"h3","props":{"id":"how-it-works"},"children":[{"type":"text","value":"How It Works"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When the frontend (client) makes a request, it also sends an identifier (like the last updated data ID). The backend checks this against the current data."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"If new data is available, the server responds immediately."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"If no change is found, the connection stays open and waits."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"When the server detects a change (from any request), it sends the updated data to all waiting clients."}]}]},{"type":"element","tag":"h3","props":{"id":"lets-code"},"children":[{"type":"text","value":"Let's Code!"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now, it's time to code! Clone this repo if you want to see it live:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/ashumsd7/web-communication-techniques"},"children":[{"type":"text","value":"GitHub Repo"}]}]},{"type":"text","value":" 🚀"}]},{"type":"element","tag":"pre","props":{"className":"language-jsx shiki shiki-themes vitesse-dark","code":"git clone https://github.com/ashumsd7/web-communication-techniques.git\ncd web-communication-techniques\nnpm i\nnpm run long-polling\n-------------------\nOpen browser and type\nhttp://localhost:3000/ // Observe API Calls in network tab\n","language":"jsx","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"git"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" clone"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":" https"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#758575DD"},"children":[{"type":"text","value":"//github.com/ashumsd7/web-communication-techniques.git\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"cd"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" web"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CB7676"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"communication"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CB7676"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"techniques\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" i\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" run"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" long"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CB7676"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"polling\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#CB7676"},"children":[{"type":"text","value":"-------------------\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"Open"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" browser"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" and"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" type\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"http"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#758575DD"},"children":[{"type":"text","value":"//localhost:3000/ // Observe API Calls in network tab\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"image.png","src":"https://heyashu.in/images/blogs/lp_3.png"},"children":[]}]},{"type":"element","tag":"h3","props":{"id":"lets-understand-the-code"},"children":[{"type":"text","value":"Let's Understand the Code"}]},{"type":"element","tag":"h3","props":{"id":"_1-server"},"children":[{"type":"text","value":"1. Server"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you look at the code below, we have an endpoint "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/getData"}]},{"type":"text","value":". When someone hits "},{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"a","props":{"href":"http://localhost:3000/getData"},"children":[{"type":"text","value":"localhost:3000/getData"}]}]},{"type":"text","value":", the frontend calls this API with an "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"empty string"}]},{"type":"text","value":" the first time."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The server "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"checks for changes"}]},{"type":"text","value":" and responds with "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"\"2013 Congress Government\""}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The frontend "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"receives this data"}]},{"type":"text","value":", prints it, and then "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"calls "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"fetchData"}]},{"type":"text","value":" again"}]},{"type":"text","value":", sending "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"\"2013 Congress Government\""}]},{"type":"text","value":" as the last received data."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Now, if there's "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"no change"}]},{"type":"text","value":", the server "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"holds"}]},{"type":"text","value":" all new requests in a waitlist."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Whenever new data arrives, the server "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"releases all waiting requests"}]},{"type":"text","value":" and sends the updated data."}]}]},{"type":"element","tag":"pre","props":{"className":"language-markdown shiki shiki-themes vitesse-dark","code":"// Initial data value\nlet data = \"2013 Congress Government\";\n\n// Array to store waiting client connections\nconst waitingClientList = [];\n\n/**\n * Long polling endpoint to get data\n * Clients connect and wait for data changes\n */\napp.get(\"/getData\", (req, res) => {\n  console.log(\"\\n🔄 GET /getData\");\n  console.log(\"📱 Client's last known data:\", req.query.lastData);\n  console.log(\"💾 Current server data:\", data);\n\n  // If data has changed since client's last request\n  if (data !== req.query.lastData) {\n    console.log(\"✨ Data changed - sending new data to client\");\n    res.send(data);\n  } else {\n    // If no change, hold the connection\n    console.log(\"⏳ No data change - adding client to waiting list\");\n    waitingClientList.push(res);\n    console.log(\"👥 Current waiting clients:\", waitingClientList.length);\n  }\n});\n","language":"markdown","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":"// Initial data value\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":"let data = \"2013 Congress Government\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":"// Array to store waiting client connections\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":"const waitingClientList = [];\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":"/**\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4976C"},"children":[{"type":"text","value":" *"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":" Long polling endpoint to get data\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4976C"},"children":[{"type":"text","value":" *"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":" Clients connect and wait for data changes\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":" */\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":"app.get(\"/getData\", (req, res) => {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":"  console.log(\"\\n🔄 GET /getData\");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":"  console.log(\"📱 Client's last known data:\", req.query.lastData);\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":"  console.log(\"💾 Current server data:\", data);\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":"  // If data has changed since client's last request\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":"  if (data !== req.query.lastData) {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":"    console.log(\"✨ Data changed - sending new data to client\");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":"    res.send(data);\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":"  } else {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":"    // If no change, hold the connection\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":"    console.log(\"⏳ No data change - adding client to waiting list\");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":"    waitingClientList.push(res);\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":"    console.log(\"👥 Current waiting clients:\", waitingClientList.length);\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":"});\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Client when web page loads on "},{"type":"element","tag":"a","props":{"href":"http://localhost:3000"},"children":[{"type":"text","value":"localhost:3000"}]},{"type":"text","value":" first time"}]},{"type":"element","tag":"pre","props":{"className":"language-html shiki shiki-themes vitesse-dark","code":" <script>\n        let lastData=\"\";\n        function fetchData(lastData) {\n            // first time u send the data with lastData as empty string\n            fetch('http://localhost:3000/getData?lastData='+lastData)\n                .then(response => response.text())\n                .then(data => {\n                    // serves sees the lastData is empty string and sends the data \n                    // because the data is changed and u r putting the data in lastData and polling again\n                    document.getElementById('currentTime').textContent = data;\n                    console.log(\"Got the data from server  polling again with data\",data);\n                    lastData=data;\n                    fetchData(data);\n        \n                    // after getting the data polling again\n               \n                })\n                .catch(error => {\n                    console.error('Error fetching data:', error);\n                });\n        }\n\n        // Fetch data immediately and then every 2 seconds\n        fetchData();\n      \n    </script>\n","language":"html","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4D9375"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#CB7676"},"children":[{"type":"text","value":"        let"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" lastData"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"\"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#CB7676"},"children":[{"type":"text","value":"        function"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":" fetchData"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"lastData"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#758575DD"},"children":[{"type":"text","value":"            // first time u send the data with lastData as empty string\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"            fetch"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D"},"children":[{"type":"text","value":"http://localhost:3000/getData?lastData="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#CB7676"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"lastData"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"                ."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"then"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"response"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" =>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" response"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"text"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"())\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"                ."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"then"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" =>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#758575DD"},"children":[{"type":"text","value":"                    // serves sees the lastData is empty string and sends the data \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#758575DD"},"children":[{"type":"text","value":"                    // because the data is changed and u r putting the data in lastData and polling again\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"                    document"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"getElementById"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D"},"children":[{"type":"text","value":"currentTime"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"textContent"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" data"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"                    console"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D"},"children":[{"type":"text","value":"Got the data from server  polling again with data"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"                    lastData"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"                    fetchData"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":"        \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#758575DD"},"children":[{"type":"text","value":"                    // after getting the data polling again\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":"               \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"                })\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"                ."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"catch"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"error"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" =>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"                    console"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"error"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D"},"children":[{"type":"text","value":"Error fetching data:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" error"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"                });\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"        }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#758575DD"},"children":[{"type":"text","value":"        // Fetch data immediately and then every 2 seconds\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"        fetchData"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":"      \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"    </"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4D9375"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":">\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"when-data-changes"},"children":[{"type":"text","value":"When data changes"}]},{"type":"element","tag":"h3","props":{"id":"when-data-changes-1"},"children":[{"type":"text","value":"When Data Changes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now, someone needs to update the data from anywhere. So, we have created an endpoint to update the data:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"a","props":{"href":"http://localhost:3000/updateData?newData=BJP_GOVT_2014"},"children":[{"type":"text","value":"http://localhost:3000/updateData?newData=BJP_GOVT_2014"}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"When this request is made, the server "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"detects the data change"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"It then "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"notifies all waiting clients"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Any client that previously had "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"\"2013 Congress Government\""}]},{"type":"text","value":" will now receive "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"\"BJP_GOVT_2014\""}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This demonstrates how "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"long polling"}]},{"type":"text","value":" works—holding requests and responding only when new data is available. 🚀"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"image.png","src":"https://heyashu.in/images/blogs/lp_4.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Server Update Data code"}]},{"type":"element","tag":"pre","props":{"className":"language-jsx shiki shiki-themes vitesse-dark","code":" */\napp.get(\"/updateData\", (req, res) => {\n  console.log(\"\\n🔄 GET /updateData\");\n  const newData = req.query.newData;\n  \n  console.log(\"📝 Old data:\", data);\n  console.log(\"✨ New data:\", newData);\n  \n  // Update the data\n  data = newData;\n\n  // Notify all waiting clients\n  console.log(`📢 Notifying ${waitingClientList.length} waiting clients`);\n  waitingClientList.forEach(client => {\n    client.send(data);\n  });\n\n  // Clear the waiting list\n  waitingClientList.length = 0;\n  console.log(\"🧹 Waiting list cleared\");\n\n  res.send(\"Data updated successfully\");\n});\n","language":"jsx","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#CB7676"},"children":[{"type":"text","value":" */\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"app"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D"},"children":[{"type":"text","value":"/updateData"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"req"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" res"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" =>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"  console"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C99076"},"children":[{"type":"text","value":"\\n"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D"},"children":[{"type":"text","value":"🔄 GET /updateData"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#CB7676"},"children":[{"type":"text","value":"  const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" newData"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" req"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"query"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"newData"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":"  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"  console"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D"},"children":[{"type":"text","value":"📝 Old data:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" data"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"  console"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D"},"children":[{"type":"text","value":"✨ New data:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" newData"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DBD7CAEE"},"children":[{"type":"text","value":"  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#758575DD"},"children":[{"type":"text","value":"  // Update the data\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"  data"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":" newData"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#758575DD"},"children":[{"type":"text","value":"  // Notify all waiting clients\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"  console"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"`"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D"},"children":[{"type":"text","value":"📢 Notifying "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4D9375"},"children":[{"type":"text","value":"${"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D"},"children":[{"type":"text","value":"waitingClientList"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B8A965"},"children":[{"type":"text","value":"length"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4D9375"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D"},"children":[{"type":"text","value":" waiting clients"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"`"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"  waitingClientList"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"forEach"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"client"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" =>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"    client"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"send"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"  });\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#758575DD"},"children":[{"type":"text","value":"  // Clear the waiting list\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"  waitingClientList"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B8A965"},"children":[{"type":"text","value":"length"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C9A91"},"children":[{"type":"text","value":" 0"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"  console"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D"},"children":[{"type":"text","value":"🧹 Waiting list cleared"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#BD976A"},"children":[{"type":"text","value":"  res"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#80A665"},"children":[{"type":"text","value":"send"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D"},"children":[{"type":"text","value":"Data updated successfully"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#C98A7D77"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#666666"},"children":[{"type":"text","value":"});\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"So, that’s all about "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Long Polling"}]},{"type":"text","value":"! 🎯"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It was a long blog, but I wanted to make sure you understand it well."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See you in the next topic! 👋 Bye-bye! 🚀"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Thank you so much for reading. If you found it valuable, consider subscribing for more such content every week. If you have any questions or suggestions, please email me your comments or feel free to improve it."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"I am waiting for your feedback, See you in next episode,"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Thanks 👋🏻"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"quick-recap-of-short-polling","depth":3,"text":"Quick Recap of Short Polling"},{"id":"whats-different-in-long-polling","depth":3,"text":"What’s Different in Long Polling?"},{"id":"what-if-the-data-never-changes","depth":3,"text":"What if the data never changes?"},{"id":"characteristics-of-long-polling","depth":3,"text":"Characteristics of Long Polling"},{"id":"use-cases","depth":3,"text":"Use Cases"},{"id":"how-it-works","depth":3,"text":"How It Works"},{"id":"lets-code","depth":3,"text":"Let's Code!"},{"id":"lets-understand-the-code","depth":3,"text":"Let's Understand the Code"},{"id":"_1-server","depth":3,"text":"1. Server"},{"id":"when-data-changes","depth":3,"text":"When data changes"},{"id":"when-data-changes-1","depth":3,"text":"When Data Changes"}]}},"_type":"markdown","_id":"content:articles:frontend-system-design-2-2.md","_source":"content","_file":"articles/frontend-system-design-2-2.md","_stem":"articles/frontend-system-design-2-2","_extension":"md","sitemap":{"loc":"/articles/frontend-system-design-2-2"}}