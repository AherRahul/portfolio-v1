import j from"./CU8OJIbq.js";import w from"./CFlqv7pY.js";import{o as B}from"./C1Gmjfje.js";import{d as c,l as S,c as k,o as m,p as D,q as b,P as f,s as N,v as x,x as E,k as l,y as p,z as A,A as H,B as O,C as T,D as y,m as F,E as $,S as q,G as R,H as I,L as U,I as W,J as z,h as g,w as P,b as L}from"./KV6SHEl7.js";import{u as G}from"./BLWyFmBm.js";import"./NufbNLrP.js";import"./CxYJgpPD.js";const J=c({__name:"DocumentDrivenNotFound",setup(t){return B(S(void 0)),(a,e)=>(m(),k("div",null," Redirecting... "))}}),M=c({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},setup(t,a){return()=>y(p[t.name],t.layoutProps,a.slots)}}),V={name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},K=c({name:"NuxtLayout",inheritAttrs:!1,props:V,setup(t,a){const e=D(),u=b(f),o=!u||u===N()?x():u,n=E(()=>{let s=l(t.name)??(o==null?void 0:o.meta.layout)??"default";return s&&!(s in p)&&t.fallback&&(s=l(t.fallback)),s}),i=A();a.expose({layoutRef:i});const r=e.deferHydration();if(e.isHydrating){const s=e.hooks.hookOnce("app:error",r);H().beforeEach(s)}let d;return()=>{const s=n.value&&n.value in p,v=(o==null?void 0:o.meta.layoutTransition)??O,C=d;return d=n.value,T(s&&v,{default:()=>y(q,{suspensible:!0,onResolve:()=>{$(r)}},{default:()=>y(Q,{layoutProps:F(a.attrs,{ref:i}),key:n.value||void 0,name:n.value,shouldProvide:!t.name,isRenderingNewLayout:h=>h!==C&&h===n.value,hasTransition:!!v},a.slots)})}).default()}}}),Q=c({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean},isRenderingNewLayout:{type:Function,required:!0}},setup(t,a){const e=t.name;t.shouldProvide&&R(U,{isCurrent:o=>e===(o.meta.layout??"default")});const u=b(f);if(u&&u===N()){const o=x(),n={};for(const i in o){const r=i;Object.defineProperty(n,r,{enumerable:!0,get:()=>t.isRenderingNewLayout(t.name)?o[r]:u[r]})}R(f,I(n))}return()=>{var o,n;return!e||typeof e=="string"&&!(e in p)?(n=(o=a.slots).default)==null?void 0:n.call(o):y(M,{key:e,layoutProps:t.layoutProps,name:e},a.slots)}}}),X={class:"document-driven-page"},se=c({__name:"document-driven",setup(t){const{contentHead:a}=W().public.content,{page:e,layout:u}=z();return e.value,a&&G(e),(_,o)=>{const n=j,i=w,r=J,d=K;return m(),k("div",X,[g(d,{name:l(u)||"default"},{default:P(()=>[l(e)?(m(),L(i,{key:l(e)._id,value:l(e)},{empty:P(({value:s})=>[g(n,{value:s},null,8,["value"])]),_:1},8,["value"])):(m(),L(r,{key:1}))]),_:1},8,["name"])])}}});export{se as default};
