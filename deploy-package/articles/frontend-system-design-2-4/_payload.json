[{"data":1,"prerenderedAt":1683},["ShallowReactive",2],{"content-query-xBuReiJgDX":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"slidesUrl":10,"dateModified":11,"datePublished":11,"showOnArticles":6,"courseName":12,"topics":13,"readingTime":16,"body":21,"_type":1676,"_id":1677,"_source":1678,"_file":1679,"_stem":1680,"_extension":1681,"sitemap":1682},"/articles/frontend-system-design-2-4","articles",false,"","Server Sent Events - A Real time communication","Delve into Server-Sent Events. Understand how servers push data to clients, enabling continuous updates in frontend applications without the need for repeated requests, optimizing data streaming.","https://github.com/AherRahul/portfolio-v1/blob/main/content/articles","2025-03-09","02-frontend-system-design",[14,15],"nodejs","javascript",{"text":17,"minutes":18,"time":19,"words":20},"4 min read",3.645,218700,729,{"type":22,"children":23,"toc":1668},"root",[24,35,49,54,61,66,95,122,129,141,153,160,187,210,215,221,226,406,412,417,1079,1090,1130,1149,1161,1172,1178,1193,1385,1403,1415,1421,1438,1457,1464,1496,1501,1515,1534,1541,1560,1565,1572,1581,1630,1642,1647,1652,1657,1662],{"type":25,"tag":26,"props":27,"children":28},"element","p",{},[29],{"type":25,"tag":30,"props":31,"children":34},"img",{"alt":32,"src":33},"image.png","https://res.cloudinary.com/duojkrgue/image/upload/v1744108696/Portfolio/FrontendSystemDesignCourse/9_fvmoja.png",[],{"type":25,"tag":26,"props":36,"children":37},{},[38,41,47],{"type":39,"value":40},"text","Let’s talk about a modern way of real-time communication on the web: ",{"type":25,"tag":42,"props":43,"children":44},"strong",{},[45],{"type":39,"value":46},"Server-Sent Events (SSE)",{"type":39,"value":48},". It’s supported by most modern browsers. So, let’s understand what this is.",{"type":25,"tag":26,"props":50,"children":51},{},[52],{"type":39,"value":53},"First, a connection is made from the client, which is basically an HTTP connection. This connection is long-lived. Whenever new data is available on the server, it is sent to the client at regular intervals.",{"type":25,"tag":26,"props":55,"children":56},{},[57],{"type":25,"tag":30,"props":58,"children":60},{"alt":32,"src":59},"https://heyashu.in/images/blogs/sse_2.png",[],{"type":25,"tag":26,"props":62,"children":63},{},[64],{"type":39,"value":65},"But there are a few key terms we need to understand:",{"type":25,"tag":67,"props":68,"children":69},"ul",{},[70,79,87],{"type":25,"tag":71,"props":72,"children":73},"li",{},[74],{"type":25,"tag":42,"props":75,"children":76},{},[77],{"type":39,"value":78},"Long-lived connection",{"type":25,"tag":71,"props":80,"children":81},{},[82],{"type":25,"tag":42,"props":83,"children":84},{},[85],{"type":39,"value":86},"Unidirectional connection",{"type":25,"tag":71,"props":88,"children":89},{},[90],{"type":25,"tag":42,"props":91,"children":92},{},[93],{"type":39,"value":94},"Single HTTP connection",{"type":25,"tag":26,"props":96,"children":97},{},[98,100,105,107,112,114,120],{"type":39,"value":99},"For example, on platforms like ",{"type":25,"tag":42,"props":101,"children":102},{},[103],{"type":39,"value":104},"LinkedIn",{"type":39,"value":106}," or ",{"type":25,"tag":42,"props":108,"children":109},{},[110],{"type":39,"value":111},"Twitter (X)",{"type":39,"value":113},", you see notifications like ",{"type":25,"tag":115,"props":116,"children":117},"em",{},[118],{"type":39,"value":119},"\"New post available\"",{"type":39,"value":121}," without refreshing the page. Similarly, in monitoring dashboards or notification systems, the client doesn’t have to do anything—the server pushes the updates automatically.",{"type":25,"tag":26,"props":123,"children":124},{},[125],{"type":25,"tag":30,"props":126,"children":128},{"alt":32,"src":127},"https://heyashu.in/images/blogs/sse_3.png",[],{"type":25,"tag":26,"props":130,"children":131},{},[132,134,139],{"type":39,"value":133},"So now you might be thinking, ",{"type":25,"tag":42,"props":135,"children":136},{},[137],{"type":39,"value":138},"how does this work?",{"type":39,"value":140}," How does the data come through, and do we need any third-party libraries? 🤔",{"type":25,"tag":26,"props":142,"children":143},{},[144,146,151],{"type":39,"value":145},"Let’s discuss these things. We receive data in the form of ",{"type":25,"tag":42,"props":147,"children":148},{},[149],{"type":39,"value":150},"event streams",{"type":39,"value":152},".",{"type":25,"tag":154,"props":155,"children":157},"h3",{"id":156},"how-to-achieve-this",[158],{"type":39,"value":159},"🚀 How to Achieve This?",{"type":25,"tag":26,"props":161,"children":162},{},[163,165,170,172,177,179,186],{"type":39,"value":164},"Generally, on the ",{"type":25,"tag":42,"props":166,"children":167},{},[168],{"type":39,"value":169},"server side",{"type":39,"value":171},", we expose an ",{"type":25,"tag":42,"props":173,"children":174},{},[175],{"type":39,"value":176},"endpoint",{"type":39,"value":178}," where we send data as a stream with the content type ",{"type":25,"tag":180,"props":181,"children":183},"code",{"className":182},[],[184],{"type":39,"value":185},"text/event-stream",{"type":39,"value":152},{"type":25,"tag":26,"props":188,"children":189},{},[190,192,197,199,208],{"type":39,"value":191},"On the ",{"type":25,"tag":42,"props":193,"children":194},{},[195],{"type":39,"value":196},"frontend",{"type":39,"value":198},", we make an HTTP API call and use the ",{"type":25,"tag":42,"props":200,"children":201},{},[202],{"type":25,"tag":180,"props":203,"children":205},{"className":204},[],[206],{"type":39,"value":207},"EventSource",{"type":39,"value":209}," API, which is natively supported by modern browsers. This allows us to listen for events sent by the server.",{"type":25,"tag":26,"props":211,"children":212},{},[213],{"type":39,"value":214},"For now, on the server, we’ve mimicked the process by sending data as an event stream every 5 seconds.",{"type":25,"tag":154,"props":216,"children":218},{"id":217},"github-repository",[219],{"type":39,"value":220},"📂 GitHub Repository",{"type":25,"tag":26,"props":222,"children":223},{},[224],{"type":39,"value":225},"I’ve added a GitHub repo where you can clone the project, follow the commands, and see it in your browser. But if you really want to understand how it works—whether you run the code or not—I’ve provided the core code below.",{"type":25,"tag":227,"props":228,"children":232},"pre",{"className":229,"code":230,"language":231,"meta":7,"style":7},"language-jsx shiki shiki-themes vitesse-dark","git clone https://github.com/ashumsd7/web-communication-techniques.git\ncd web-communication-techniques\nnpm i\nnpm run server-side-events\n-------------------\nOpen browser and type\nhttp://localhost:3000/ // Observe network tab\n","jsx",[233],{"type":25,"tag":180,"props":234,"children":235},{"__ignoreMap":7},[236,271,305,319,355,364,388],{"type":25,"tag":237,"props":238,"children":241},"span",{"class":239,"line":240},"line",1,[242,248,253,259,265],{"type":25,"tag":237,"props":243,"children":245},{"style":244},"--shiki-default:#BD976A",[246],{"type":39,"value":247},"git",{"type":25,"tag":237,"props":249,"children":250},{"style":244},[251],{"type":39,"value":252}," clone",{"type":25,"tag":237,"props":254,"children":256},{"style":255},"--shiki-default:#80A665",[257],{"type":39,"value":258}," https",{"type":25,"tag":237,"props":260,"children":262},{"style":261},"--shiki-default:#666666",[263],{"type":39,"value":264},":",{"type":25,"tag":237,"props":266,"children":268},{"style":267},"--shiki-default:#758575DD",[269],{"type":39,"value":270},"//github.com/ashumsd7/web-communication-techniques.git\n",{"type":25,"tag":237,"props":272,"children":274},{"class":239,"line":273},2,[275,280,285,291,296,300],{"type":25,"tag":237,"props":276,"children":277},{"style":244},[278],{"type":39,"value":279},"cd",{"type":25,"tag":237,"props":281,"children":282},{"style":244},[283],{"type":39,"value":284}," web",{"type":25,"tag":237,"props":286,"children":288},{"style":287},"--shiki-default:#CB7676",[289],{"type":39,"value":290},"-",{"type":25,"tag":237,"props":292,"children":293},{"style":244},[294],{"type":39,"value":295},"communication",{"type":25,"tag":237,"props":297,"children":298},{"style":287},[299],{"type":39,"value":290},{"type":25,"tag":237,"props":301,"children":302},{"style":244},[303],{"type":39,"value":304},"techniques\n",{"type":25,"tag":237,"props":306,"children":308},{"class":239,"line":307},3,[309,314],{"type":25,"tag":237,"props":310,"children":311},{"style":244},[312],{"type":39,"value":313},"npm",{"type":25,"tag":237,"props":315,"children":316},{"style":244},[317],{"type":39,"value":318}," i\n",{"type":25,"tag":237,"props":320,"children":322},{"class":239,"line":321},4,[323,327,332,337,341,346,350],{"type":25,"tag":237,"props":324,"children":325},{"style":244},[326],{"type":39,"value":313},{"type":25,"tag":237,"props":328,"children":329},{"style":244},[330],{"type":39,"value":331}," run",{"type":25,"tag":237,"props":333,"children":334},{"style":244},[335],{"type":39,"value":336}," server",{"type":25,"tag":237,"props":338,"children":339},{"style":287},[340],{"type":39,"value":290},{"type":25,"tag":237,"props":342,"children":343},{"style":244},[344],{"type":39,"value":345},"side",{"type":25,"tag":237,"props":347,"children":348},{"style":287},[349],{"type":39,"value":290},{"type":25,"tag":237,"props":351,"children":352},{"style":244},[353],{"type":39,"value":354},"events\n",{"type":25,"tag":237,"props":356,"children":358},{"class":239,"line":357},5,[359],{"type":25,"tag":237,"props":360,"children":361},{"style":287},[362],{"type":39,"value":363},"-------------------\n",{"type":25,"tag":237,"props":365,"children":367},{"class":239,"line":366},6,[368,373,378,383],{"type":25,"tag":237,"props":369,"children":370},{"style":244},[371],{"type":39,"value":372},"Open",{"type":25,"tag":237,"props":374,"children":375},{"style":244},[376],{"type":39,"value":377}," browser",{"type":25,"tag":237,"props":379,"children":380},{"style":244},[381],{"type":39,"value":382}," and",{"type":25,"tag":237,"props":384,"children":385},{"style":244},[386],{"type":39,"value":387}," type\n",{"type":25,"tag":237,"props":389,"children":391},{"class":239,"line":390},7,[392,397,401],{"type":25,"tag":237,"props":393,"children":394},{"style":255},[395],{"type":39,"value":396},"http",{"type":25,"tag":237,"props":398,"children":399},{"style":261},[400],{"type":39,"value":264},{"type":25,"tag":237,"props":402,"children":403},{"style":267},[404],{"type":39,"value":405},"//localhost:3000/ // Observe network tab\n",{"type":25,"tag":154,"props":407,"children":409},{"id":408},"server-code",[410],{"type":39,"value":411},"💻 Server Code",{"type":25,"tag":26,"props":413,"children":414},{},[415],{"type":39,"value":416},"Here’s the server’s core logic:",{"type":25,"tag":227,"props":418,"children":420},{"className":229,"code":419,"language":231,"meta":7,"style":7},"app.get('/sse', (req, res) => {\n // data is going  to be long live \n  // data is going to be as event stream and no cache \n res.setHeader('Content-Type','text/event-stream')\n res.setHeader('Connection', 'keep-alive')\n res.setHeader('Cache-Control', 'no-cache')\n // logic of data is going to be here : Database call \n res.write('data: Hello, client! This is a test message.\\n\\n');\n\n// after 5 seconds it will send random number \nconst intervalId = setInterval(() => {\n  res.write(`data: Random number: ${Math.floor(Math.random() * 100)}\\n\\n`);\n }, 5000);\n\n req.on('close', () => {\n  console.log('Client disconnected');\n  clearInterval(intervalId);\n  res.end();\n });\n\n});\n",[421],{"type":25,"tag":180,"props":422,"children":423},{"__ignoreMap":7},[424,501,509,517,571,625,678,686,731,741,750,787,892,910,918,970,1009,1031,1053,1062,1070],{"type":25,"tag":237,"props":425,"children":426},{"class":239,"line":240},[427,432,436,441,446,452,458,462,467,472,477,481,486,491,496],{"type":25,"tag":237,"props":428,"children":429},{"style":244},[430],{"type":39,"value":431},"app",{"type":25,"tag":237,"props":433,"children":434},{"style":261},[435],{"type":39,"value":152},{"type":25,"tag":237,"props":437,"children":438},{"style":255},[439],{"type":39,"value":440},"get",{"type":25,"tag":237,"props":442,"children":443},{"style":261},[444],{"type":39,"value":445},"(",{"type":25,"tag":237,"props":447,"children":449},{"style":448},"--shiki-default:#C98A7D77",[450],{"type":39,"value":451},"'",{"type":25,"tag":237,"props":453,"children":455},{"style":454},"--shiki-default:#C98A7D",[456],{"type":39,"value":457},"/sse",{"type":25,"tag":237,"props":459,"children":460},{"style":448},[461],{"type":39,"value":451},{"type":25,"tag":237,"props":463,"children":464},{"style":261},[465],{"type":39,"value":466},",",{"type":25,"tag":237,"props":468,"children":469},{"style":261},[470],{"type":39,"value":471}," (",{"type":25,"tag":237,"props":473,"children":474},{"style":244},[475],{"type":39,"value":476},"req",{"type":25,"tag":237,"props":478,"children":479},{"style":261},[480],{"type":39,"value":466},{"type":25,"tag":237,"props":482,"children":483},{"style":244},[484],{"type":39,"value":485}," res",{"type":25,"tag":237,"props":487,"children":488},{"style":261},[489],{"type":39,"value":490},")",{"type":25,"tag":237,"props":492,"children":493},{"style":261},[494],{"type":39,"value":495}," =>",{"type":25,"tag":237,"props":497,"children":498},{"style":261},[499],{"type":39,"value":500}," {\n",{"type":25,"tag":237,"props":502,"children":503},{"class":239,"line":273},[504],{"type":25,"tag":237,"props":505,"children":506},{"style":267},[507],{"type":39,"value":508}," // data is going  to be long live \n",{"type":25,"tag":237,"props":510,"children":511},{"class":239,"line":307},[512],{"type":25,"tag":237,"props":513,"children":514},{"style":267},[515],{"type":39,"value":516},"  // data is going to be as event stream and no cache \n",{"type":25,"tag":237,"props":518,"children":519},{"class":239,"line":321},[520,524,528,533,537,541,546,550,554,558,562,566],{"type":25,"tag":237,"props":521,"children":522},{"style":244},[523],{"type":39,"value":485},{"type":25,"tag":237,"props":525,"children":526},{"style":261},[527],{"type":39,"value":152},{"type":25,"tag":237,"props":529,"children":530},{"style":255},[531],{"type":39,"value":532},"setHeader",{"type":25,"tag":237,"props":534,"children":535},{"style":261},[536],{"type":39,"value":445},{"type":25,"tag":237,"props":538,"children":539},{"style":448},[540],{"type":39,"value":451},{"type":25,"tag":237,"props":542,"children":543},{"style":454},[544],{"type":39,"value":545},"Content-Type",{"type":25,"tag":237,"props":547,"children":548},{"style":448},[549],{"type":39,"value":451},{"type":25,"tag":237,"props":551,"children":552},{"style":261},[553],{"type":39,"value":466},{"type":25,"tag":237,"props":555,"children":556},{"style":448},[557],{"type":39,"value":451},{"type":25,"tag":237,"props":559,"children":560},{"style":454},[561],{"type":39,"value":185},{"type":25,"tag":237,"props":563,"children":564},{"style":448},[565],{"type":39,"value":451},{"type":25,"tag":237,"props":567,"children":568},{"style":261},[569],{"type":39,"value":570},")\n",{"type":25,"tag":237,"props":572,"children":573},{"class":239,"line":357},[574,578,582,586,590,594,599,603,607,612,617,621],{"type":25,"tag":237,"props":575,"children":576},{"style":244},[577],{"type":39,"value":485},{"type":25,"tag":237,"props":579,"children":580},{"style":261},[581],{"type":39,"value":152},{"type":25,"tag":237,"props":583,"children":584},{"style":255},[585],{"type":39,"value":532},{"type":25,"tag":237,"props":587,"children":588},{"style":261},[589],{"type":39,"value":445},{"type":25,"tag":237,"props":591,"children":592},{"style":448},[593],{"type":39,"value":451},{"type":25,"tag":237,"props":595,"children":596},{"style":454},[597],{"type":39,"value":598},"Connection",{"type":25,"tag":237,"props":600,"children":601},{"style":448},[602],{"type":39,"value":451},{"type":25,"tag":237,"props":604,"children":605},{"style":261},[606],{"type":39,"value":466},{"type":25,"tag":237,"props":608,"children":609},{"style":448},[610],{"type":39,"value":611}," '",{"type":25,"tag":237,"props":613,"children":614},{"style":454},[615],{"type":39,"value":616},"keep-alive",{"type":25,"tag":237,"props":618,"children":619},{"style":448},[620],{"type":39,"value":451},{"type":25,"tag":237,"props":622,"children":623},{"style":261},[624],{"type":39,"value":570},{"type":25,"tag":237,"props":626,"children":627},{"class":239,"line":366},[628,632,636,640,644,648,653,657,661,665,670,674],{"type":25,"tag":237,"props":629,"children":630},{"style":244},[631],{"type":39,"value":485},{"type":25,"tag":237,"props":633,"children":634},{"style":261},[635],{"type":39,"value":152},{"type":25,"tag":237,"props":637,"children":638},{"style":255},[639],{"type":39,"value":532},{"type":25,"tag":237,"props":641,"children":642},{"style":261},[643],{"type":39,"value":445},{"type":25,"tag":237,"props":645,"children":646},{"style":448},[647],{"type":39,"value":451},{"type":25,"tag":237,"props":649,"children":650},{"style":454},[651],{"type":39,"value":652},"Cache-Control",{"type":25,"tag":237,"props":654,"children":655},{"style":448},[656],{"type":39,"value":451},{"type":25,"tag":237,"props":658,"children":659},{"style":261},[660],{"type":39,"value":466},{"type":25,"tag":237,"props":662,"children":663},{"style":448},[664],{"type":39,"value":611},{"type":25,"tag":237,"props":666,"children":667},{"style":454},[668],{"type":39,"value":669},"no-cache",{"type":25,"tag":237,"props":671,"children":672},{"style":448},[673],{"type":39,"value":451},{"type":25,"tag":237,"props":675,"children":676},{"style":261},[677],{"type":39,"value":570},{"type":25,"tag":237,"props":679,"children":680},{"class":239,"line":390},[681],{"type":25,"tag":237,"props":682,"children":683},{"style":267},[684],{"type":39,"value":685}," // logic of data is going to be here : Database call \n",{"type":25,"tag":237,"props":687,"children":689},{"class":239,"line":688},8,[690,694,698,703,707,711,716,722,726],{"type":25,"tag":237,"props":691,"children":692},{"style":244},[693],{"type":39,"value":485},{"type":25,"tag":237,"props":695,"children":696},{"style":261},[697],{"type":39,"value":152},{"type":25,"tag":237,"props":699,"children":700},{"style":255},[701],{"type":39,"value":702},"write",{"type":25,"tag":237,"props":704,"children":705},{"style":261},[706],{"type":39,"value":445},{"type":25,"tag":237,"props":708,"children":709},{"style":448},[710],{"type":39,"value":451},{"type":25,"tag":237,"props":712,"children":713},{"style":454},[714],{"type":39,"value":715},"data: Hello, client! This is a test message.",{"type":25,"tag":237,"props":717,"children":719},{"style":718},"--shiki-default:#C99076",[720],{"type":39,"value":721},"\\n\\n",{"type":25,"tag":237,"props":723,"children":724},{"style":448},[725],{"type":39,"value":451},{"type":25,"tag":237,"props":727,"children":728},{"style":261},[729],{"type":39,"value":730},");\n",{"type":25,"tag":237,"props":732,"children":734},{"class":239,"line":733},9,[735],{"type":25,"tag":237,"props":736,"children":738},{"emptyLinePlaceholder":737},true,[739],{"type":39,"value":740},"\n",{"type":25,"tag":237,"props":742,"children":744},{"class":239,"line":743},10,[745],{"type":25,"tag":237,"props":746,"children":747},{"style":267},[748],{"type":39,"value":749},"// after 5 seconds it will send random number \n",{"type":25,"tag":237,"props":751,"children":753},{"class":239,"line":752},11,[754,759,764,769,774,779,783],{"type":25,"tag":237,"props":755,"children":756},{"style":287},[757],{"type":39,"value":758},"const",{"type":25,"tag":237,"props":760,"children":761},{"style":244},[762],{"type":39,"value":763}," intervalId",{"type":25,"tag":237,"props":765,"children":766},{"style":261},[767],{"type":39,"value":768}," =",{"type":25,"tag":237,"props":770,"children":771},{"style":255},[772],{"type":39,"value":773}," setInterval",{"type":25,"tag":237,"props":775,"children":776},{"style":261},[777],{"type":39,"value":778},"(()",{"type":25,"tag":237,"props":780,"children":781},{"style":261},[782],{"type":39,"value":495},{"type":25,"tag":237,"props":784,"children":785},{"style":261},[786],{"type":39,"value":500},{"type":25,"tag":237,"props":788,"children":790},{"class":239,"line":789},12,[791,796,800,804,808,813,818,824,829,833,838,842,846,850,855,860,865,871,875,880,884,888],{"type":25,"tag":237,"props":792,"children":793},{"style":244},[794],{"type":39,"value":795},"  res",{"type":25,"tag":237,"props":797,"children":798},{"style":261},[799],{"type":39,"value":152},{"type":25,"tag":237,"props":801,"children":802},{"style":255},[803],{"type":39,"value":702},{"type":25,"tag":237,"props":805,"children":806},{"style":261},[807],{"type":39,"value":445},{"type":25,"tag":237,"props":809,"children":810},{"style":448},[811],{"type":39,"value":812},"`",{"type":25,"tag":237,"props":814,"children":815},{"style":454},[816],{"type":39,"value":817},"data: Random number: ",{"type":25,"tag":237,"props":819,"children":821},{"style":820},"--shiki-default:#4D9375",[822],{"type":39,"value":823},"${",{"type":25,"tag":237,"props":825,"children":826},{"style":454},[827],{"type":39,"value":828},"Math",{"type":25,"tag":237,"props":830,"children":831},{"style":261},[832],{"type":39,"value":152},{"type":25,"tag":237,"props":834,"children":835},{"style":255},[836],{"type":39,"value":837},"floor",{"type":25,"tag":237,"props":839,"children":840},{"style":261},[841],{"type":39,"value":445},{"type":25,"tag":237,"props":843,"children":844},{"style":454},[845],{"type":39,"value":828},{"type":25,"tag":237,"props":847,"children":848},{"style":261},[849],{"type":39,"value":152},{"type":25,"tag":237,"props":851,"children":852},{"style":255},[853],{"type":39,"value":854},"random",{"type":25,"tag":237,"props":856,"children":857},{"style":261},[858],{"type":39,"value":859},"()",{"type":25,"tag":237,"props":861,"children":862},{"style":287},[863],{"type":39,"value":864}," *",{"type":25,"tag":237,"props":866,"children":868},{"style":867},"--shiki-default:#4C9A91",[869],{"type":39,"value":870}," 100",{"type":25,"tag":237,"props":872,"children":873},{"style":261},[874],{"type":39,"value":490},{"type":25,"tag":237,"props":876,"children":877},{"style":820},[878],{"type":39,"value":879},"}",{"type":25,"tag":237,"props":881,"children":882},{"style":718},[883],{"type":39,"value":721},{"type":25,"tag":237,"props":885,"children":886},{"style":448},[887],{"type":39,"value":812},{"type":25,"tag":237,"props":889,"children":890},{"style":261},[891],{"type":39,"value":730},{"type":25,"tag":237,"props":893,"children":895},{"class":239,"line":894},13,[896,901,906],{"type":25,"tag":237,"props":897,"children":898},{"style":261},[899],{"type":39,"value":900}," },",{"type":25,"tag":237,"props":902,"children":903},{"style":867},[904],{"type":39,"value":905}," 5000",{"type":25,"tag":237,"props":907,"children":908},{"style":261},[909],{"type":39,"value":730},{"type":25,"tag":237,"props":911,"children":913},{"class":239,"line":912},14,[914],{"type":25,"tag":237,"props":915,"children":916},{"emptyLinePlaceholder":737},[917],{"type":39,"value":740},{"type":25,"tag":237,"props":919,"children":921},{"class":239,"line":920},15,[922,927,931,936,940,944,949,953,957,962,966],{"type":25,"tag":237,"props":923,"children":924},{"style":244},[925],{"type":39,"value":926}," req",{"type":25,"tag":237,"props":928,"children":929},{"style":261},[930],{"type":39,"value":152},{"type":25,"tag":237,"props":932,"children":933},{"style":255},[934],{"type":39,"value":935},"on",{"type":25,"tag":237,"props":937,"children":938},{"style":261},[939],{"type":39,"value":445},{"type":25,"tag":237,"props":941,"children":942},{"style":448},[943],{"type":39,"value":451},{"type":25,"tag":237,"props":945,"children":946},{"style":454},[947],{"type":39,"value":948},"close",{"type":25,"tag":237,"props":950,"children":951},{"style":448},[952],{"type":39,"value":451},{"type":25,"tag":237,"props":954,"children":955},{"style":261},[956],{"type":39,"value":466},{"type":25,"tag":237,"props":958,"children":959},{"style":261},[960],{"type":39,"value":961}," ()",{"type":25,"tag":237,"props":963,"children":964},{"style":261},[965],{"type":39,"value":495},{"type":25,"tag":237,"props":967,"children":968},{"style":261},[969],{"type":39,"value":500},{"type":25,"tag":237,"props":971,"children":973},{"class":239,"line":972},16,[974,979,983,988,992,996,1001,1005],{"type":25,"tag":237,"props":975,"children":976},{"style":244},[977],{"type":39,"value":978},"  console",{"type":25,"tag":237,"props":980,"children":981},{"style":261},[982],{"type":39,"value":152},{"type":25,"tag":237,"props":984,"children":985},{"style":255},[986],{"type":39,"value":987},"log",{"type":25,"tag":237,"props":989,"children":990},{"style":261},[991],{"type":39,"value":445},{"type":25,"tag":237,"props":993,"children":994},{"style":448},[995],{"type":39,"value":451},{"type":25,"tag":237,"props":997,"children":998},{"style":454},[999],{"type":39,"value":1000},"Client disconnected",{"type":25,"tag":237,"props":1002,"children":1003},{"style":448},[1004],{"type":39,"value":451},{"type":25,"tag":237,"props":1006,"children":1007},{"style":261},[1008],{"type":39,"value":730},{"type":25,"tag":237,"props":1010,"children":1012},{"class":239,"line":1011},17,[1013,1018,1022,1027],{"type":25,"tag":237,"props":1014,"children":1015},{"style":255},[1016],{"type":39,"value":1017},"  clearInterval",{"type":25,"tag":237,"props":1019,"children":1020},{"style":261},[1021],{"type":39,"value":445},{"type":25,"tag":237,"props":1023,"children":1024},{"style":244},[1025],{"type":39,"value":1026},"intervalId",{"type":25,"tag":237,"props":1028,"children":1029},{"style":261},[1030],{"type":39,"value":730},{"type":25,"tag":237,"props":1032,"children":1034},{"class":239,"line":1033},18,[1035,1039,1043,1048],{"type":25,"tag":237,"props":1036,"children":1037},{"style":244},[1038],{"type":39,"value":795},{"type":25,"tag":237,"props":1040,"children":1041},{"style":261},[1042],{"type":39,"value":152},{"type":25,"tag":237,"props":1044,"children":1045},{"style":255},[1046],{"type":39,"value":1047},"end",{"type":25,"tag":237,"props":1049,"children":1050},{"style":261},[1051],{"type":39,"value":1052},"();\n",{"type":25,"tag":237,"props":1054,"children":1056},{"class":239,"line":1055},19,[1057],{"type":25,"tag":237,"props":1058,"children":1059},{"style":261},[1060],{"type":39,"value":1061}," });\n",{"type":25,"tag":237,"props":1063,"children":1065},{"class":239,"line":1064},20,[1066],{"type":25,"tag":237,"props":1067,"children":1068},{"emptyLinePlaceholder":737},[1069],{"type":39,"value":740},{"type":25,"tag":237,"props":1071,"children":1073},{"class":239,"line":1072},21,[1074],{"type":25,"tag":237,"props":1075,"children":1076},{"style":261},[1077],{"type":39,"value":1078},"});\n",{"type":25,"tag":26,"props":1080,"children":1081},{},[1082,1084,1088],{"type":39,"value":1083},"So if you see above, we have an ",{"type":25,"tag":42,"props":1085,"children":1086},{},[1087],{"type":39,"value":176},{"type":39,"value":1089}," that will be called by the client. We are setting headers to:",{"type":25,"tag":67,"props":1091,"children":1092},{},[1093,1103,1120],{"type":25,"tag":71,"props":1094,"children":1095},{},[1096,1101],{"type":25,"tag":42,"props":1097,"children":1098},{},[1099],{"type":39,"value":1100},"Keep the connection alive",{"type":39,"value":1102}," for a long-lived connection.",{"type":25,"tag":71,"props":1104,"children":1105},{},[1106,1108,1112,1114,1119],{"type":39,"value":1107},"Set the ",{"type":25,"tag":42,"props":1109,"children":1110},{},[1111],{"type":39,"value":545},{"type":39,"value":1113}," as ",{"type":25,"tag":180,"props":1115,"children":1117},{"className":1116},[],[1118],{"type":39,"value":185},{"type":39,"value":152},{"type":25,"tag":71,"props":1121,"children":1122},{},[1123,1125,1129],{"type":39,"value":1124},"Disable caching with ",{"type":25,"tag":42,"props":1126,"children":1127},{},[1128],{"type":39,"value":669},{"type":39,"value":152},{"type":25,"tag":26,"props":1131,"children":1132},{},[1133,1135,1140,1142,1147],{"type":39,"value":1134},"Then, we are ",{"type":25,"tag":42,"props":1136,"children":1137},{},[1138],{"type":39,"value":1139},"writing the stream",{"type":39,"value":1141},", and after 5 seconds, we write again. So, any client that is ",{"type":25,"tag":42,"props":1143,"children":1144},{},[1145],{"type":39,"value":1146},"listening",{"type":39,"value":1148}," to this will receive the data.",{"type":25,"tag":26,"props":1150,"children":1151},{},[1152,1154,1159],{"type":39,"value":1153},"In between, you can add database logic or any other operations. This is just ",{"type":25,"tag":42,"props":1155,"children":1156},{},[1157],{"type":39,"value":1158},"mimicking the functionality",{"type":39,"value":1160}," of Server-Sent Events (SSE).",{"type":25,"tag":26,"props":1162,"children":1163},{},[1164,1166,1171],{"type":39,"value":1165},"Now, let’s look at the ",{"type":25,"tag":42,"props":1167,"children":1168},{},[1169],{"type":39,"value":1170},"frontend code",{"type":39,"value":152},{"type":25,"tag":154,"props":1173,"children":1175},{"id":1174},"frontend-code",[1176],{"type":39,"value":1177},"💻 Frontend Code",{"type":25,"tag":26,"props":1179,"children":1180},{},[1181,1183,1191],{"type":39,"value":1182},"Here’s a snapshot of the frontend code where we use ",{"type":25,"tag":42,"props":1184,"children":1185},{},[1186],{"type":25,"tag":180,"props":1187,"children":1189},{"className":1188},[],[1190],{"type":39,"value":207},{"type":39,"value":1192}," and wait for the data.",{"type":25,"tag":227,"props":1194,"children":1196},{"className":229,"code":1195,"language":231,"meta":7,"style":7}," const eventSource = new EventSource('/sse');\n\n    // Listen for messages\n    eventSource.onmessage = function(event) {\n      console.log('Event received:', event.data);\n     \n      \n    };\n",[1197],{"type":25,"tag":180,"props":1198,"children":1199},{"__ignoreMap":7},[1200,1247,1254,1262,1305,1360,1369,1377],{"type":25,"tag":237,"props":1201,"children":1202},{"class":239,"line":240},[1203,1208,1213,1217,1222,1227,1231,1235,1239,1243],{"type":25,"tag":237,"props":1204,"children":1205},{"style":287},[1206],{"type":39,"value":1207}," const",{"type":25,"tag":237,"props":1209,"children":1210},{"style":244},[1211],{"type":39,"value":1212}," eventSource",{"type":25,"tag":237,"props":1214,"children":1215},{"style":261},[1216],{"type":39,"value":768},{"type":25,"tag":237,"props":1218,"children":1219},{"style":287},[1220],{"type":39,"value":1221}," new",{"type":25,"tag":237,"props":1223,"children":1224},{"style":255},[1225],{"type":39,"value":1226}," EventSource",{"type":25,"tag":237,"props":1228,"children":1229},{"style":261},[1230],{"type":39,"value":445},{"type":25,"tag":237,"props":1232,"children":1233},{"style":448},[1234],{"type":39,"value":451},{"type":25,"tag":237,"props":1236,"children":1237},{"style":454},[1238],{"type":39,"value":457},{"type":25,"tag":237,"props":1240,"children":1241},{"style":448},[1242],{"type":39,"value":451},{"type":25,"tag":237,"props":1244,"children":1245},{"style":261},[1246],{"type":39,"value":730},{"type":25,"tag":237,"props":1248,"children":1249},{"class":239,"line":273},[1250],{"type":25,"tag":237,"props":1251,"children":1252},{"emptyLinePlaceholder":737},[1253],{"type":39,"value":740},{"type":25,"tag":237,"props":1255,"children":1256},{"class":239,"line":307},[1257],{"type":25,"tag":237,"props":1258,"children":1259},{"style":267},[1260],{"type":39,"value":1261},"    // Listen for messages\n",{"type":25,"tag":237,"props":1263,"children":1264},{"class":239,"line":321},[1265,1270,1274,1279,1283,1288,1292,1297,1301],{"type":25,"tag":237,"props":1266,"children":1267},{"style":244},[1268],{"type":39,"value":1269},"    eventSource",{"type":25,"tag":237,"props":1271,"children":1272},{"style":261},[1273],{"type":39,"value":152},{"type":25,"tag":237,"props":1275,"children":1276},{"style":255},[1277],{"type":39,"value":1278},"onmessage",{"type":25,"tag":237,"props":1280,"children":1281},{"style":261},[1282],{"type":39,"value":768},{"type":25,"tag":237,"props":1284,"children":1285},{"style":287},[1286],{"type":39,"value":1287}," function",{"type":25,"tag":237,"props":1289,"children":1290},{"style":261},[1291],{"type":39,"value":445},{"type":25,"tag":237,"props":1293,"children":1294},{"style":244},[1295],{"type":39,"value":1296},"event",{"type":25,"tag":237,"props":1298,"children":1299},{"style":261},[1300],{"type":39,"value":490},{"type":25,"tag":237,"props":1302,"children":1303},{"style":261},[1304],{"type":39,"value":500},{"type":25,"tag":237,"props":1306,"children":1307},{"class":239,"line":357},[1308,1313,1317,1321,1325,1329,1334,1338,1342,1347,1351,1356],{"type":25,"tag":237,"props":1309,"children":1310},{"style":244},[1311],{"type":39,"value":1312},"      console",{"type":25,"tag":237,"props":1314,"children":1315},{"style":261},[1316],{"type":39,"value":152},{"type":25,"tag":237,"props":1318,"children":1319},{"style":255},[1320],{"type":39,"value":987},{"type":25,"tag":237,"props":1322,"children":1323},{"style":261},[1324],{"type":39,"value":445},{"type":25,"tag":237,"props":1326,"children":1327},{"style":448},[1328],{"type":39,"value":451},{"type":25,"tag":237,"props":1330,"children":1331},{"style":454},[1332],{"type":39,"value":1333},"Event received:",{"type":25,"tag":237,"props":1335,"children":1336},{"style":448},[1337],{"type":39,"value":451},{"type":25,"tag":237,"props":1339,"children":1340},{"style":261},[1341],{"type":39,"value":466},{"type":25,"tag":237,"props":1343,"children":1344},{"style":244},[1345],{"type":39,"value":1346}," event",{"type":25,"tag":237,"props":1348,"children":1349},{"style":261},[1350],{"type":39,"value":152},{"type":25,"tag":237,"props":1352,"children":1353},{"style":244},[1354],{"type":39,"value":1355},"data",{"type":25,"tag":237,"props":1357,"children":1358},{"style":261},[1359],{"type":39,"value":730},{"type":25,"tag":237,"props":1361,"children":1362},{"class":239,"line":366},[1363],{"type":25,"tag":237,"props":1364,"children":1366},{"style":1365},"--shiki-default:#DBD7CAEE",[1367],{"type":39,"value":1368},"     \n",{"type":25,"tag":237,"props":1370,"children":1371},{"class":239,"line":390},[1372],{"type":25,"tag":237,"props":1373,"children":1374},{"style":1365},[1375],{"type":39,"value":1376},"      \n",{"type":25,"tag":237,"props":1378,"children":1379},{"class":239,"line":688},[1380],{"type":25,"tag":237,"props":1381,"children":1382},{"style":261},[1383],{"type":39,"value":1384},"    };\n",{"type":25,"tag":26,"props":1386,"children":1387},{},[1388,1390,1395,1397,1401],{"type":39,"value":1389},"So, it’s ",{"type":25,"tag":42,"props":1391,"children":1392},{},[1393],{"type":39,"value":1394},"super easy",{"type":39,"value":1396},"! We are just ",{"type":25,"tag":42,"props":1398,"children":1399},{},[1400],{"type":39,"value":1146},{"type":39,"value":1402}," to the event and logging it to the console.",{"type":25,"tag":26,"props":1404,"children":1405},{},[1406,1408,1413],{"type":39,"value":1407},"Now, you can also ",{"type":25,"tag":42,"props":1409,"children":1410},{},[1411],{"type":39,"value":1412},"display it on the DOM",{"type":39,"value":1414}," of your web page.",{"type":25,"tag":154,"props":1416,"children":1418},{"id":1417},"lets-inspect-it",[1419],{"type":39,"value":1420},"🔍 Let's Inspect It",{"type":25,"tag":26,"props":1422,"children":1423},{},[1424,1426,1436],{"type":39,"value":1425},"After running the server, open ",{"type":25,"tag":42,"props":1427,"children":1428},{},[1429],{"type":25,"tag":1430,"props":1431,"children":1433},"a",{"href":1432},"http://localhost:3000/",[1434],{"type":39,"value":1435},"localhost:3000",{"type":39,"value":1437}," in your web browser.",{"type":25,"tag":26,"props":1439,"children":1440},{},[1441,1443,1448,1450,1455],{"type":39,"value":1442},"You will see the incoming data in the ",{"type":25,"tag":42,"props":1444,"children":1445},{},[1446],{"type":39,"value":1447},"console",{"type":39,"value":1449}," and, if implemented, on the ",{"type":25,"tag":42,"props":1451,"children":1452},{},[1453],{"type":39,"value":1454},"webpage",{"type":39,"value":1456}," as well.",{"type":25,"tag":26,"props":1458,"children":1459},{},[1460],{"type":25,"tag":30,"props":1461,"children":1463},{"alt":32,"src":1462},"https://heyashu.in/images/blogs/sse_4.png",[],{"type":25,"tag":26,"props":1465,"children":1466},{},[1467,1469,1474,1476,1480,1482,1487,1489,1494],{"type":39,"value":1468},"A ",{"type":25,"tag":42,"props":1470,"children":1471},{},[1472],{"type":39,"value":1473},"long-lived",{"type":39,"value":1475}," and ",{"type":25,"tag":42,"props":1477,"children":1478},{},[1479],{"type":39,"value":669},{"type":39,"value":1481}," request is being made. Right after that, you can see a tab labeled ",{"type":25,"tag":42,"props":1483,"children":1484},{},[1485],{"type":39,"value":1486},"\"Event Stream\"",{"type":39,"value":1488},", just like we had the ",{"type":25,"tag":42,"props":1490,"children":1491},{},[1492],{"type":39,"value":1493},"\"Messages\"",{"type":39,"value":1495}," tab in WebSocket.",{"type":25,"tag":26,"props":1497,"children":1498},{},[1499],{"type":39,"value":1500},"If you want to explore more about WebSocket, check out this blog:",{"type":25,"tag":26,"props":1502,"children":1503},{},[1504,1506],{"type":39,"value":1505},"👉 ",{"type":25,"tag":42,"props":1507,"children":1508},{},[1509],{"type":25,"tag":1430,"props":1510,"children":1512},{"href":1511},"https://heyashu.in/blog/web-socket-lets-chat",[1513],{"type":39,"value":1514},"Learn WebSocket",{"type":25,"tag":26,"props":1516,"children":1517},{},[1518,1520,1525,1527,1532],{"type":39,"value":1519},"Here’s a ",{"type":25,"tag":42,"props":1521,"children":1522},{},[1523],{"type":39,"value":1524},"screenshot",{"type":39,"value":1526}," showing what it looks like when we switch to the ",{"type":25,"tag":42,"props":1528,"children":1529},{},[1530],{"type":39,"value":1531},"Event Stream",{"type":39,"value":1533}," tab:",{"type":25,"tag":26,"props":1535,"children":1536},{},[1537],{"type":25,"tag":30,"props":1538,"children":1540},{"alt":32,"src":1539},"https://heyashu.in/images/blogs/sse_5.png",[],{"type":25,"tag":26,"props":1542,"children":1543},{},[1544,1546,1551,1553,1558],{"type":39,"value":1545},"Now, if you look at the ",{"type":25,"tag":42,"props":1547,"children":1548},{},[1549],{"type":39,"value":1550},"UI",{"type":39,"value":1552},", you’ll see that the data is getting ",{"type":25,"tag":42,"props":1554,"children":1555},{},[1556],{"type":39,"value":1557},"populated in real-time",{"type":39,"value":1559},"! 🚀",{"type":25,"tag":26,"props":1561,"children":1562},{},[1563],{"type":39,"value":1564},"This happens seamlessly as the server pushes new events to the client without any need for manual refreshes. Pretty cool, right?",{"type":25,"tag":26,"props":1566,"children":1567},{},[1568],{"type":25,"tag":30,"props":1569,"children":1571},{"alt":32,"src":1570},"https://heyashu.in/images/blogs/sse_6.png",[],{"type":25,"tag":154,"props":1573,"children":1575},{"id":1574},"challenges",[1576],{"type":25,"tag":42,"props":1577,"children":1578},{},[1579],{"type":39,"value":1580},"Challenges",{"type":25,"tag":1582,"props":1583,"children":1584},"ol",{},[1585,1590,1595,1600,1605,1610,1615,1620,1625],{"type":25,"tag":71,"props":1586,"children":1587},{},[1588],{"type":39,"value":1589},"Browser compatibility",{"type":25,"tag":71,"props":1591,"children":1592},{},[1593],{"type":39,"value":1594},"Number of connections (6-8 per domain)",{"type":25,"tag":71,"props":1596,"children":1597},{},[1598],{"type":39,"value":1599},"Reconnection logic",{"type":25,"tag":71,"props":1601,"children":1602},{},[1603],{"type":39,"value":1604},"Background tab behavior",{"type":25,"tag":71,"props":1606,"children":1607},{},[1608],{"type":39,"value":1609},"Resource utilization",{"type":25,"tag":71,"props":1611,"children":1612},{},[1613],{"type":39,"value":1614},"Sticky connections",{"type":25,"tag":71,"props":1616,"children":1617},{},[1618],{"type":39,"value":1619},"Proxies and firewalls",{"type":25,"tag":71,"props":1621,"children":1622},{},[1623],{"type":39,"value":1624},"Testing and load balancing",{"type":25,"tag":71,"props":1626,"children":1627},{},[1628],{"type":39,"value":1629},"Efficient broadcasting",{"type":25,"tag":26,"props":1631,"children":1632},{},[1633,1635,1640],{"type":39,"value":1634},"So, that’s all for this one! More topics will be discussed in upcoming blogs, including ",{"type":25,"tag":42,"props":1636,"children":1637},{},[1638],{"type":39,"value":1639},"Webhooks",{"type":39,"value":1641},". Stay tuned!",{"type":25,"tag":26,"props":1643,"children":1644},{},[1645],{"type":39,"value":1646},"So that's all for this article. Let's meet in the next one.  Take care, bye-bye!",{"type":25,"tag":26,"props":1648,"children":1649},{},[1650],{"type":39,"value":1651},"Thank you so much for reading. If you found it valuable, consider subscribing for more such content every week. If you have any questions or suggestions, please email me your comments or feel free to improve it.",{"type":25,"tag":26,"props":1653,"children":1654},{},[1655],{"type":39,"value":1656},"I am waiting for your feedback, See you in next episode,",{"type":25,"tag":26,"props":1658,"children":1659},{},[1660],{"type":39,"value":1661},"Thanks 👋🏻",{"type":25,"tag":1663,"props":1664,"children":1665},"style",{},[1666],{"type":39,"value":1667},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":7,"searchDepth":273,"depth":273,"links":1669},[1670,1671,1672,1673,1674,1675],{"id":156,"depth":307,"text":159},{"id":217,"depth":307,"text":220},{"id":408,"depth":307,"text":411},{"id":1174,"depth":307,"text":1177},{"id":1417,"depth":307,"text":1420},{"id":1574,"depth":307,"text":1580},"markdown","content:articles:frontend-system-design-2-4.md","content","articles/frontend-system-design-2-4.md","articles/frontend-system-design-2-4","md",{"loc":4},1758003358216]